<!-- File: show_profile.html
  Author: María Díaz Garrido
  Description: Template used by ProfileDetailView to render a single Profile.
               Inherits from mini_insta/base.html and displays the profile image,
               username, optional display_name, and bio_text, plus a link back
               to the profiles list.
-->

{% extends "mini_insta/base.html" %}

{% block title %}{{ profile.display_name|default:profile.username }} · Profile{% endblock %}

{% block content %}
  <article class="profile-detail">
    <img
      src="{{ profile.profile_image_url }}"
      alt="{{ profile.display_name|default:profile.username }}'s profile image"
      class="profile-image"
    >
    <h2>@{{ profile.username }}</h2>

    {% if profile.display_name %}
      <p class="muted">{{ profile.display_name }}</p>
    {% endif %}

    {% if profile.bio_text %}
      <p>{{ profile.bio_text }}</p>
    {% endif %}
  </article>

    <!-- Display the comments about this article -->
    <!-- {{article.get_all_comments}} -->
     {% for comment in article.get_all_comments%}
        <div>
            <strong> by {{comment.author}} at {{comment.published}} </strong>
            <p>
                {{comment.text}}
            </p>
        </div>
    {% endfor %}


  <p><a href="{% url 'mini_insta:show_all_profiles' %}">&larr; Back to all profiles</a></p>
{% endblock %}
