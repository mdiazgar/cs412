{% extends "project/base.html" %}

{% block content %}
<div class="row">
  <div class="col-lg-8 mx-auto">

    <div class="card card-cl p-4 mb-4">
      <h1 class="page-title mb-3">Post {{ post.id }}</h1>

      <p>
        <strong>Campaign:</strong>
        <a href="{% url 'project:campaign_detail' post.campaign.id %}">
          {{ post.campaign.name }}
        </a>
      </p>
      <p><strong>Date:</strong> {{ post.post_date }}</p>
      <p><strong>Type:</strong> {{ post.get_content_type_display }}</p>
      <p><strong>Caption:</strong> {{ post.caption }}</p>

      {% if post.url %}
        <p class="mt-3">
          <a href="{{ post.url }}" target="_blank" rel="noopener" class="btn btn-accent btn-sm">
            View live post
          </a>
        </p>
      {% endif %}
    </div>

    {% if post.metrics %}
      <div class="card card-cl p-4 mb-3">
        <h2 class="h4 mb-3">Metrics</h2>

        <div class="table-responsive">
          <table class="table table-sm table-borderless mb-0 metrics-table">
            <tbody>
              <tr>
                <th scope="row">Impressions</th>
                <td class="text-end">{{ post.metrics.impressions }}</td>
              </tr>
              <tr>
                <th scope="row">Likes</th>
                <td class="text-end">{{ post.metrics.likes }}</td>
              </tr>
              <tr>
                <th scope="row">Comments</th>
                <td class="text-end">{{ post.metrics.comments }}</td>
              </tr>
              <tr>
                <th scope="row">Shares</th>
                <td class="text-end">{{ post.metrics.shares }}</td>
              </tr>
              <tr>
                <th scope="row">Saves</th>
                <td class="text-end">{{ post.metrics.saves }}</td>
              </tr>
              <tr>
                <th scope="row">Clicks</th>
                <td class="text-end">{{ post.metrics.clicks }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    {% endif %}

    <div class="d-flex justify-content-end">
      <a href="{% url 'project:post_delete' post.pk %}"
         class="btn btn-outline-light">
        Delete post
      </a>
    </div>

  </div>
</div>
{% endblock %}

